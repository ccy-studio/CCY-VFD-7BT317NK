<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>WIFI配网</title><style>html{font-family:helvetica neue,Helvetica,pingfang sc,hiragino sans gb,microsoft yahei,微软雅黑,Arial,sans-serif;background-color:#eee}body{margin:0}section{flex-direction:column}.header{background-color:#fff;text-align:center;display:flex;height:60px;padding:0 20px;box-sizing:border-box;-ms-flex-negative:0;flex-shrink:0}.bq{font-size:12px;color:#909399}.header span{flex:1;align-self:center;font-size:18px;font-weight:700}.tip{color:#e6a23c;font-size:13px}footer{padding:10px}.main{padding:10px}.card{margin-top:10px;box-shadow:0 2px 12px rgba(0,0,0,.1);border-radius:4px;border:1px solid #ebeef5;background-color:#fff;overflow:hidden;color:#303133;-webkit-transition:.3s;transition:.3s;-webkit-box-direction:normal;padding:20px;color:#303133}.input_inner{-webkit-appearance:none;background-color:#fff;background-image:none;border-radius:4px;border:1px solid #dcdfe6;box-sizing:border-box;color:#606266;display:inline-block;height:40px;line-height:40px;outline:0;padding:0 15px;-webkit-transition:border-color .2s cubic-bezier(.645,.045,.355,1);transition:border-color .2s cubic-bezier(.645,.045,.355,1);width:100%;font-size:inherit;font-size:14px}.input_lable{float:none;display:inline-block;text-align:left;padding:0 0 10px;text-align:right;vertical-align:middle;float:left;font-size:14px;color:#606266;line-height:40px;padding:0 12px 0 0;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:default}.input_item::after{clear:both;display:table;content:""}.input_item{margin-bottom:22px}.primary_btn{padding:9px 15px;font-size:12px;border-radius:3px;color:#fff!important;background-color:#409eff!important;border-color:#409eff;display:inline-block;line-height:1;white-space:nowrap;cursor:pointer;background:#fff;border:1px solid #dcdfe6;color:#606266;-webkit-appearance:none;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;outline:0;margin:0;-webkit-transition:.1s;transition:.1s;font-weight:500;padding:12px 20px;font-size:14px;border-radius:4px;-webkit-user-select:none}.ap_list{padding:10px 5px;background-color:#fff}.ap_list table{width:100%}.ap_list thead{color:#909399;font-weight:500}.ap_list tbody{display:table-row-group;vertical-align:middle;border-color:inherit;border-collapse:separate}.ap_list td{transition:background-color .25s ease;border-bottom:1px solid #ebeef5;padding:12px 0;min-width:0;box-sizing:border-box;text-overflow:ellipsis;vertical-align:middle;position:relative;text-align:center}.t_button{padding:3px 10px;border-radius:3px;color:#fff!important;background-color:#67c23a!important;border-color:#fff}.scan_b{margin-top:10px;margin-left:5px;border-radius:20px!important}.load{display:flow;margin-top:20px}</style></head><body><div id="app"><section><header class="header"><span>WIFI配网</span></header><div class="main"><div class="ap_list"><table cellspacing="0" cellpadding="0" border="0"><thead><tr><th>WIFI名称</th><th>信号强度</th><th>操作</th></tr></thead><tbody id="table_data"><tr><td rowspan="1" colspan="1">Saisawa</td><td rowspan="1" colspan="1">123</td><td rowspan="1" colspan="1"><button class="t_button" onclick='onClickForSetWifi("Saisawa")' type="button">选择</button></td></tr></tbody></table><button type="button" onclick=scanWifi() class="primary_btn scan_b">
扫描WIFI</button></div><div class="card"><form action="/wifi-connect"><div class="input_item"><label class="input_lable">WIFI名称</label>
<input minlength="1" maxlength="25" id="in_ssid" name="ssid" class="input_inner" autocomplete="off" placeholder="输入WIFI名称"></div><div class="input_item"><label class="input_lable">WIFI密码</label>
<input maxlength="25" id="in_pwd" name="password" class="input_inner" autocomplete="off" placeholder="输入WIFI密码"></div><button class="primary_btn">
保存并连接</button></form></div></div><footer><p class="bq">版权所有 © saisaiwa 2023~2025。保留所有权利。<br>除非获得 saisaiwa 的明确许可，否则不得以任何形式复制、分发或修改本网页内容。<br>免责声明：本网页的内容仅供参考和教育目的。作者不承担由于使用本网页内容而导致的任何直接或间接损失或损害。使用者需自行承担风险。<br>所有第三方商标、标识和名称仅用于说明目的，并可能是其各自所有者的财产。<br>如有任何疑问，请联系:yustart@foxmail.com</p></footer></section></div><script>var isLoadWifi=!1;function onClickForSetWifi(e){document.getElementById("in_ssid").value=e,document.getElementById("in_pwd").value="",window.scrollTo(0,document.body.scrollHeight)}function scanWifi(){if(isLoadWifi)return;isLoadWifi=!0;var e,t=document.getElementById("table_data");t.innerHTML="<span class='load'>Loading...</span>",e=new XMLHttpRequest,e.open("GET","/scan-ap",!0),e.onreadystatechange=function(){if(isLoadWifi=!1,e.readyState===4&&e.status===200){var n=JSON.parse(e.responseText);t.innerHTML="",n.sort((e,t)=>t.rssi-e.rssi);const s=[],o=new Set;for(const e of n)o.has(e.ssid)||(s.push(e),o.add(e.ssid));const i={"信号强":-50,"信号较好":-60,"信号一般":-70,"信号较弱":-80,"信号很弱":-90},a=s.map(e=>{let t="Unknown";for(const[n,s]of Object.entries(i))if(e.rssi>=s){t=n;break}return{ssid:e.ssid,rssi:e.rssi,description:t}});a.forEach(function(e){var n,o,i,s=document.createElement("tr"),a=document.createElement("td");a.textContent=e.ssid,o=document.createElement("td"),o.textContent=e.description,i=document.createElement("td"),n=document.createElement("button"),n.textContent="选择",n.className="t_button",n.onclick=function(){onClickForSetWifi(e.ssid)},i.appendChild(n),s.appendChild(a),s.appendChild(o),s.appendChild(i),t.appendChild(s)})}},e.send()}window.onload=function(){scanWifi()}</script></body></html>